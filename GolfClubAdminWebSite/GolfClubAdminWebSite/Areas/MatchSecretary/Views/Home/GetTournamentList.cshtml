@{
    ViewBag.Title = "Tournaments";
    Layout = "~/Areas/MatchSecretary/Views/Shared/_Layout.cshtml";
}

<div class="container">

    <table id="tournamentList" class="table table-striped table-bordered nowrap" width="100%" cellspacing="0">
        <thead>
            <tr>
                <th>Tournament Id</th>
                <th>Name</th>
                <th>Date</th>
                <th>Format</th>
                <th>Player Category</th>
                <th>Course</th>
                <th>Tee Colour</th>
            </tr>
        </thead>
    </table>

    <a class="btn btn-primary btn-user btn-block" asp-action="CreateTournament" asp-controller="Home" asp-area="MatchSecretary"><i class="fa fa-plus"></i> New Tournament</a>
</div>

<script>
    $(document).ready(function ()
        {
            $("#tournamentList").DataTable({
                "processing": true, // for show progress bar
                "serverSide": true, // for process server side
                "filter": true, // this is for disable filter (search box)
                "orderMulti": false, // for disable multiple column at once
                "ajax": {
                    "url": "GetTournamentListAsJson",
                    "type": "POST",
                    "datatype": "json"
                },
                "columnDefs":
                [{
                    "targets": [0],
                    "visible": false,
                    "searchable": false
                }],
                "columns": [
                    { "data": "tournamentId", "name": "tournamentId", "autoWidth": true },
                    { "data": "name", "name": "name", "autoWidth": true },
                    {
                        "data": "date", "name": "date", "autoWidth": true,
                        render: function(d) {
                            return moment(d).format("DD-MM-YYYY");
                        }
                    },
                    { "data": "format", "name": "format", "autoWidth": true },
                    { "data": "playerCategory", "name": "playerCategory", "autoWidth": true },
                    { "data": "measuredCourseName", "name": "measuredCourseName", "autoWidth": true },
                    { "data": "measuredCourseTeeColour", "name": "measuredCourseTeeColour", "autoWidth": true }
                ],
                "order": [[2, "asc"]]

            });
        });

</script>
